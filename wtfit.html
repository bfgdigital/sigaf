<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WTF is this? | Should I Give a Fuck?</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: #fafafa;
            color: #1a1a1a;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            overflow: hidden;
        }

        .header {
            text-align: center;
            padding: 40px 30px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-bottom: 1px solid #e9ecef;
        }

        .main-title {
            font-size: 2.2em;
            font-weight: 700;
            margin: 0;
            color: #1a1a1a;
        }

        .content {
            padding: 40px 35px;
        }

        h2 {
            font-weight: 600;
            font-size: 1.4em;
            margin: 40px 0 20px 0;
            color: #1a1a1a;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 8px;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        h3 {
            font-weight: 600;
            font-size: 1.2em;
            margin: 30px 0 15px 0;
            color: #374151;
        }

        h4 {
            font-weight: 600;
            font-size: 1.1em;
            margin: 25px 0 12px 0;
            color: #374151;
        }

        p, ul, li {
            color: #374151;
            line-height: 1.6;
        }

        ul, ol {
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        code {
            background: #f1f5f9;
            color: #475569;
            border-radius: 4px;
            padding: 3px 6px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid #e2e8f0;
        }

        pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid #e9ecef;
            font-size: 0.9em;
            margin: 20px 0;
        }

        pre code {
            background: none;
            border: none;
            padding: 0;
            color: #374151;
        }

        .callout {
            background: linear-gradient(135deg, #1a1a1a 0%, #374151 100%);
            color: white;
            padding: 30px;
            margin: 30px 0;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
        }

        .callout strong {
            color: white;
        }

        .footer {
            text-align: center;
            color: #6b7280;
            font-size: 0.9em;
            padding: 30px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        a {
            color: #2563eb;
            text-decoration: none;
            font-weight: 500;
        }

        a:hover {
            text-decoration: underline;
        }

        strong {
            font-weight: 600;
            color: #1a1a1a;
        }

        .sig-meh { color: #6b7280; font-weight: 600; background: #f3f4f6; padding: 2px 6px; border-radius: 4px; }
        .sig-watch { color: #2563eb; font-weight: 600; background: #dbeafe; padding: 2px 6px; border-radius: 4px; }
        .sig-no-bueno { color: #dc2626; font-weight: 600; background: #fef2f2; padding: 2px 6px; border-radius: 4px; }
        .sig-party { color: #059669; font-weight: 600; background: #d1fae5; padding: 2px 6px; border-radius: 4px; }
        .sig-peachy { color: #d97706; font-weight: 600; background: #fef3c7; padding: 2px 6px; border-radius: 4px; }
        
        /* --- NEW STYLES FOR LINKS --- */
        .link-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .link-card {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 20px;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .link-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-decoration: none;
        }
        .link-card svg {
            width: 28px;
            height: 28px;
            margin-right: 15px;
            fill: #4b5563;
        }
        .link-card div {
            display: flex;
            flex-direction: column;
        }
        .link-card .link-title {
            font-weight: 600;
            color: #1a1a1a;
            font-size: 1.1em;
        }
        .link-card .link-subtitle {
            font-size: 0.9em;
            color: #6b7280;
        }
        /* --- END OF NEW STYLES --- */


        @media (max-width: 640px) {
            body { padding: 10px; }
            .header { padding: 30px 20px 20px; }
            .content, .footer { padding: 20px; }
            .main-title { font-size: 1.8em; }
            .link-container { grid-template-columns: 1fr; } /* Stack links on mobile */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">WTF Is This?</h1>
        </div>

        <div class="content">
            <div class="callout">
                <strong>Let's be real:</strong> No chart is going to predict the future. Unless you're prepared to spend serious time understanding the macro landscape, everything else is just vibes.
                <br><br>
                <strong>This tool isn't for fortune telling.</strong> It's for one thing: showing you if Bitcoin's momentum is on track based on its own internal reality. The only inputs are price history and block time. That's it.
            </div>

            <h2>How It Works</h2>

            <h3>The Simple Explanation</h3>
            <p>
                This tool measures Bitcoin's price momentum using simple geometry. It answers the question: "Is the price moving faster or slower right now than its overall historical journey?"
            </p>
            <ol>
                <li><strong>Visualize the Chart:</strong> Imagine a chart where the x-axis is time (from Block 0 to now) and the y-axis is price (from $0 to the All-Time High).</li>
                <li><strong>Establish a Baseline:</strong> The tool calculates the <strong>"Current Trend Angle"</strong>. This is the angle of a straight line drawn from the beginning to today's price. This represents Bitcoin's average momentum.</li>
                <li><strong>Find the Market's Rhythm:</strong> Instead of using arbitrary timeframes like "30 days" or "90 days," the tool analyzes the price history to find its own natural cycles. It identifies time periods that have had a statistically significant "echo" in the past. These become our lookback windows.</li>
                <li><strong>Measure Momentum on Those Rhythms:</strong> It then calculates the angle for each of these statistically-derived time windows. This shows the momentum over periods that are native to the market itself.</li>
                <li><strong>Compare and Assign a Status:</strong> The tool compares the recent momentum angle to the baseline Trend Angle. The status tells you how significant that difference is.
                    <ul>
                        <li><span class="sig-party">PARTY</span>: Recent momentum is unusually steep.</li>
                        <li><span class="sig-peachy">PEACHY</span>: Recent momentum is moderately steeper than the trend.</li>
                        <li><span class="sig-meh">MEH</span>: Business as usual; momentum is tracking the long-term trend.</li>
                        <li><span class="sig-watch">WATCH</span>: Recent momentum is moderately weaker than the trend.</li>
                        <li><span class="sig-no-bueno">NO BUENO</span>: Recent momentum is unusually flat or negative.</li>
                    </ul>
                </li>
                <li><strong>Reach a Verdict:</strong> The tool holds a "weighted vote" among the different lookbacks. Time periods that offer more unique, non-overlapping information get a bigger say in the final verdict of "yeah," "nah," or "yeah nah."</li>
            </ol>

            <h3>The Technical Explanation</h3>
            <p>The meter operates on a 2D coordinate system that is normalized to the current block and the all-time-high price, creating a consistent geometric space for all comparisons.</p>
            
            <h4>1. The Normalized Coordinate System</h4>
            <p>To make geometric comparisons valid across any time scale, every point `(block, price)` is mapped to a normalized coordinate `(x, y)`. This is the most important concept of the model.
            </p>
            <ul>
                <li><strong>X-Axis (Run):</strong> A given block <code>n</code> is normalized by the latest block <code>n_latest</code>. So, <code>x = n / n_latest</code>. The x-axis always represents 0% to 100% of Bitcoin's age in blocks.</li>
                <li><strong>Y-Axis (Rise):</strong> A given price <code>P</code> is normalized by the All-Time High price <code>P_ath</code>. So, <code>y = P / P_ath</code>. The y-axis always represents 0% to 100% of the ATH.</li>
            </ul>
            <p>This ensures that a line segment from 10 years ago and a line segment from last week are drawn on the exact same 1x1 grid, making their angles directly comparable measures of velocity.</p>

            <h4>2. Deriving Lookback Windows (ACF)</h4>
            <p>The lookback windows are not arbitrary. They are derived from the data itself using time-series analysis.</p>
            <ol>
                <li>First, we calculate the <strong>log returns</strong> of the price history. This standardizes the price changes, making them more statistically stable.</li>
                <li>Next, we run an <strong>Autocorrelation Function (ACF)</strong> on these returns. The ACF checks how much the price action at one point in time is correlated with the price action at a previous point in time, across hundreds of different time lags.</li>
                <li>The tool identifies the lags that show a statistically significant autocorrelation—the "echoes." These significant lags become the lookback windows used in the analysis.</li>
            </ol>
            
            <h4>3. The Angle Calculation (θ) & Deviation (Δ)</h4>
            <p>The angle for any price movement is calculated using the arctangent of its slope on the normalized chart. The "signal" is the difference between an angle from a lookback window (<code>θ_micro</code>) and the overall trend angle (<code>θ_current</code>).</p>
            <pre><code>// For two points p1 and p2 on the normalized chart:
rise = p2.y - p1.y
run = p2.x - p1.x
θ = arctan(rise / run) × 180/π

// The deviation for a given lookback
Δ = θ_micro - θ_current</code></pre>

            <h4>4. The Final Verdict (PACF Weighting)</h4>
            <p>A simple average of the signals would be misleading, as longer lookbacks (e.g., 1 year) contain the data from shorter ones (e.g., 3 months). To solve this, we use the <strong>Partial Autocorrelation Function (PACF)</strong> to assign weights.</p>
            <ul>
                <li><strong>The Problem:</strong> A 1-year lookback isn't providing 1 year of *new* information; 9 months of it is already part of the 9-month lookback. This is the "nested doll" problem.</li>
                <li><strong>The Solution:</strong> PACF measures the *direct* correlation of a lag after removing the influence of all shorter, intervening lags. It isolates the *unique contribution* of each lookback window.</li>
                <li><strong>The Consensus:</strong> The absolute PACF value for each lookback serves as its weight in the final `consensusScore`. This means lookbacks that provide more novel information have a greater influence on the final "yeah," "nah," or "yeah nah" verdict.</li>
            </ul>

            <h4>5. The Status (Statistical Significance)</h4>
            <p>The individual status for each lookback is determined by how many standard deviations (σ) its Δ is from the mean of all current deltas, making it adaptive to current volatility.</p>
            <ul>
                <li><span class="sig-party">PARTY</span>: Δ > +1.5σ</li>
                <li><span class="sig-peachy">PEACHY</span>: Δ is between +0.5σ and +1.5σ</li>
                <li><span class="sig-meh">MEH</span>: |Δ| ≤ 0.5σ</li>
                <li><span class="sig-watch">WATCH</span>: Δ is between -0.5σ and -1.5σ</li>
                <li><span class="sig-no-bueno">NO BUENO</span>: Δ < -1.5σ</li>
            </ul>

            <h2>A Practical Example: The Crash Test</h2>
            <p>
                Imagine the price drops 30% overnight. Because <strong>every single angle calculation terminates at the present moment</strong>, a catastrophic drop in the current price instantly and simultaneously impacts all metrics on the normalized chart.
            </p>
            <ul>
                <li>The <strong>Current Trend Angle</strong> (our benchmark) would become much flatter, as its end point just dropped significantly.</li>
                <li>The angle of every recent lookback (<strong>Micro Angles</strong>) would plummet even more, becoming very low or negative.</li>
                <li>The comparison—<code>Micro Angle - Current Trend Angle</code>—would result in a large negative number for all lookbacks, triggering an immediate <span class="sig-no-bueno">NO BUENO</span> status across the board.</li>
            </ul>
            <p>
                The entire dashboard would light up with warnings. The PACF-weighted consensus would see a unanimous negative vote and deliver a decisive "nah" verdict. This happens because the tool isn't showing you five separate historical snapshots; it's showing you five different perspectives on the path to the <strong>exact same "now."</strong>
            </p>

            <h2 id="about">About & Contact</h2>
            <div class="link-container">
                <a href="https://github.com/bfgdigital/sigaf" class="link-card" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                    <div>
                        <span class="link-title">View on GitHub</span>
                        <span class="link-subtitle">See the open-source code</span>
                    </div>
                </a>
                <a href="https://primal.net/p/npub14c9x62qzjgfturmxp4lzwx52ph7nkzefjrkjr566wsnjmgkj2fpssfs5jx" class="link-card" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 1024 1024" version="1.1" aria-hidden="true"><path d="M512 0C229.227 0 0 229.227 0 512s229.227 512 512 512 512-229.227 512-512S794.773 0 512 0z m0 85.333c235.627 0 426.667 191.040 426.667 426.667S747.627 938.667 512 938.667 85.333 747.627 85.333 512 276.373 85.333 512 85.333z m-128 128c-100.267 0-181.333 81.067-181.333 181.333s81.067 181.333 181.333 181.333 181.333-81.067 181.333-181.333-81.067-181.333-181.333-181.333z m0 85.334c52.907 0 96 43.093 96 96s-43.093 96-96 96-96-43.093-96-96 43.093-96 96-96z m256 128c-15.147 0-27.307 12.16-27.307 27.307v218.453c0 15.147 12.16 27.307 27.307 27.307s27.307-12.16 27.307-27.307V368.64c0-15.147-12.16-27.307-27.307-27.307z m-256 256c-100.267 0-181.333 81.067-181.333 181.333s81.067 181.333 181.333 181.333 181.333-81.067 181.333-181.333-81.067-181.333-181.333-181.333z m0 85.333c52.907 0 96 43.093 96 96s-43.093 96-96 96-96-43.093-96-96 43.093-96 96-96z"></path></svg>
                    <div>
                        <span class="link-title">Find me on Nostr</span>
                        <span class="link-subtitle">Feedback and questions welcome</span>
                    </div>
                </a>
            </div>
        </div>

        <div class="footer">
            <a href="index.html">&larr; Back to the Meter</a>
        </div>
    </div>
</body>
</html>